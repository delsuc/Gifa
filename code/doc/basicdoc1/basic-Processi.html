<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>Processing</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.2 (Linux)">
	<META NAME="CREATED" CONTENT="20010412;19340400">
	<META NAME="CHANGEDBY" CONTENT="Thierry Gostan">
	<META NAME="CHANGED" CONTENT="20010412;19425900">
	<!-- This document was converted from RTF source: 
By r2net 5.2.4 r2netcmd Unix 
Translation:html.trn  $Revision: 1.55 $ $Revision: 1.34 $
See http://www.logictran.com
Filename:basic.rtf
OutFileName:basic.html
Application Directory:/home/gostan/r2net
Subject:
Author:
Operator:
Document Comments:
Version Comments:
Comments:StarWriter
Keywords:
Translation Date:04/12/2001
Translation Time:15:05:47
Translation Platform:Unix
Number of Output files:50
This File:basic-Processi.html
SplitDepth=2
SkipNavPanel=0
SkipLeadingToc=0
SkipTrailingToc=1
GenContents=1
GenFrames=1
GenIndex=0
 -->
	<STYLE>
	<!--
		A:visited { color: #808080 }
		A:link { color: #cc0000 }
	-->
	</STYLE>
</HEAD>
<BODY LINK="#cc0000" VLINK="#808080" BGCOLOR="#ffffff">
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><A HREF="basic-BASIC.html"><IMG SRC="images/up.gif" NAME="Image1" ALT="Up " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Basic-2.html"><IMG SRC="images/prev.gif" NAME="Image2" ALT="Previous " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-3D.html"><IMG SRC="images/next.gif" NAME="Image3" ALT="Next " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Title.html"><IMG SRC="images/first.gif" NAME="Image4" ALT="Title Page " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Contents.html"><IMG SRC="images/contents.gif" NAME="Image5" ALT="Contents " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
</P>
<HR>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-Processi.html#Heading386">Apodisation
	menu</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-Processi.html#Heading409">Proc
	1D menu</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-Processi.html#Heading433">Proc
	2D menu</A> 
	</P>
	<LI><P><A HREF="basic-Processi.html#Heading480">2D on file</A> 
	</P>
</UL>
<HR>
<H2><A NAME="Heading383"></A><FONT SIZE=4><I><U>Processing</U></I></FONT></H2>
<P>These menus permit to perform most of the regular processing to be
performed on simple NMR spectra.</P>
<H3><A NAME="Heading386"></A><B>Apodisation menu</B></H3>
<P>This menu contains all the operation which are to be applied
before the Fourier transform step and is common to all processing
modules (1D,2D and 3D), since the apodisation step is the same in all
cases. It is installed with the env_proc1d.g macro, along with the
<U>Proc 1D</U> menu.</P>
<UL>
	<LI><P><U>Em...</U></P>
</UL>
<P>Apply an exponential apodisation to the current data-set. The
value of the exponential is in Hertz. There is one parameter for each
axis in the data-set (1 in 1D, 2 in 2D, 3 in 3D). Equivalent to the
<TT><FONT FACE="Courier">EM </FONT></TT>command.</P>
<UL>
	<LI><P><U>Gm...</U></P>
</UL>
<P>Apply an Gaussian apodisation to the current data-set. The value
of the Gaussian is in Hertz. There is one parameter for each axis in
the data-set (1 in 1D, 2 in 2D, 3 in 3D). Equivalent to the <TT><FONT FACE="Courier">GM
</FONT></TT>command.</P>
<UL>
	<LI><P><U>Sin...</U></P>
</UL>
<P>Apply a sine-bell apodisation to the current data-set. The first
(and only in 1D) parameter is a value ranging from 0.0 to 0.5; the
value of the parameter corresponds to the position of the maximum of
the filter in your window, thus 0.0 is pure cosine, 0.5 is pure sine,
all intermediate values are possible. In 2D or 3D you will be
prompted for the axis on which the apodisation should be
applied.<BR>Equivalent to the <TT><FONT FACE="Courier">SIN </FONT></TT>command.</P>
<UL>
	<LI><P><U>SqSin...</U></P>
</UL>
<P>As the <U>Sin</U> button but applies a squared sine-bell.
Equivalent to the <TT><FONT FACE="Courier">SQSIN </FONT></TT>command.</P>
<UL>
	<LI><P><U>Tm...</U></P>
</UL>
<P>Applies a trapezoidal apodisation. You will be prompted for two
parameters, the built function starts from 0.0, raises up to the
index entered as the first parameters where it reaches 1.0, the decay
from 1.0 to 0.0 starts a the index entered as the second parameter up
to the end of the data-set. In 2D or 3D you will be prompted for the
axis on which the apodisation should be applied. Equivalent to the <TT><FONT FACE="Courier">TM
</FONT></TT>command.</P>
<UL>
	<LI><P><U>Gaussian Interactive</U></P>
</UL>
<P>Permits to interactively use a Gaussian resolution enhancement, by
combining a Gaussian apodisation and an exponential one. Equivalent
to the <TT><FONT FACE="Courier">gm_inter</FONT></TT> macro.</P>
<UL>
	<LI><P><U>User defined...</U></P>
</UL>
<P>Applies an apodisation which can be defined as an equation by the
user. Equivalent to the <TT><FONT FACE="Courier">user_apod</FONT></TT>
macro.</P>
<UL>
	<LI><P><U>Correct 1st point</U></P>
</UL>
<P>Correct the first point of the current data set for the
quantification bias introduced by the sampling. This is typical
correction on 2D-3D data-sets. It partially removes the <I>t1-ridges</I>
that are commonly seen. It has less interest in 1D.</P>
<UL>
	<LI><P><U>ChSize...</U></P>
</UL>
<P>Permits to change the size of the current data-set. The operation
(reduction or increase) will be realised at once on the data-set.
Increasing the size will be realised by adding zeros at the end of
the buffer. You will be prompted for a dimension per axis in the
data-set.<BR>Equivalent to the <TT><FONT FACE="Courier">CHSIZE
</FONT></TT>command.</P>
<H3><A NAME="Heading409"></A><B>Proc 1D menu</B></H3>
<P>This menu, installed with the env_proc1d.g macro, holds the
commands for 1D processing.</P>
<UL>
	<LI><P><U>Easy1d</U></P>
</UL>
<P>This command opens a form permitting to rapidely process a 1D experiment.You 
  select the size, the apodisation function, the Fourier, phasing and Baseline 
  correction steps. The set-up can be used for direct computation as well as to 
  store a macro that will realise the process in a latter stage. See the details 
  in the chapter <A HREF="basic-BASIC-2.html">Basic (1D) Processing</A> Check 
  also the on-line help</P>
<UL>
	<LI><P><U>ZeroFill</U></P>
</UL>
<P>Extend the size of the current data-set to a size equal to the
next power of two. This is realised with the <TT><FONT FACE="Courier">CHSIZE</FONT></TT>
command.</P>
<UL>
	<LI><P><U>ft_Seq</U></P>
</UL>
<P>Realises the Fourier transform suitable for a data set acquired in
<I>sequential</I> mode : real and imaginary part alternatively
sampled. Equivalent to the <TT><FONT FACE="Courier">ft_seq </FONT></TT>macro
or to the<TT><FONT FACE="Courier"> REVF RFT </FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_Sim</U></P>
</UL>
<P>Realises the Fourier transform suitable for a data set acquired in
<I>simultaneous</I> mode : real and imaginary part sampled at the
same time point, and stored alternatively in the buffer. Equivalent
to the <TT><FONT FACE="Courier">ft_sim </FONT></TT>macro or to the<TT><FONT FACE="Courier">
REVF FT </FONT></TT>command.</P>
<UL>
	<LI><P><U>Ph</U></P>
</UL>
<P><IMG SRC="images/Phase.gif" NAME="Image11" ALIGN=LEFT HSPACE=8 VSPACE=8 WIDTH=289 HEIGHT=182 BORDER=0>Starts
the <TT><FONT FACE="Courier">PH</FONT></TT> command which permits to
interactively phase the current spectrum. Pops up a control graphic
box, which permits to control zeroth and first order phase
corrections, place the pivot (with the middle button of the mouse),
and store the phase correction. Zoom and the Zoom Box controls are
still active.</P>
<UL>
	<LI><P><U>Auto. Phasing</U></P>
</UL>
<P>Computes a phase correction on the current 1D data-set, using the
APSL techniques (A.Heuer J.Magn.Reson. 91 p241 (1991) ). This is
equivalent to calling the <TT><FONT FACE="Courier">apsl</FONT></TT>
macro.</P>
<UL>
	<LI><P><U>Redo Phase</U></P>
</UL>
<P>Apply to the data-set the last phase correction used. Equivalent
to the <TT><FONT FACE="Courier">PHASE %% </FONT></TT>command.</P>
<UL>
	<LI><P><U>Real</U></P>
</UL>
<P>Remove the imaginary part of the data-set, thus reducing by two
the number of buffer points. Equivalent to the <TT><FONT FACE="Courier">REAL
</FONT></TT>command.</P>
<UL>
	<LI><P><U>Modulus</U></P>
</UL>
<P>Compute the modulus of the spectrum from the real and imaginary
parts. Equivalent to the <TT><FONT FACE="Courier">MODULUS </FONT></TT>command.</P>
<UL>
	<LI><P><U>Integrate</U></P>
</UL>
<P>Start the 1D graphic integration module. <BR>
  See <A HREF="basic-BASIC-2.html">Basic (1D) Processing</A> for details.</P>
<H3><A NAME="Heading433"></A><B>Proc 2D menu</B></H3>
<P>This menu, installed with the env_proc2d.g macro, holds the
commands for 2D processing. The F1 axis always refers to the
non-classical, vertical axis of the 2D, and the F2 axis to the
classical, horizontal axis. Some commands are specific to F1 or F2
processing, some commands prompt for the axis to process, in which
case you have to enter either F1, F2 or F12 if you want a processing
on both axes.</P>
<UL>
	<LI><P><U>Easy 2D</U></P>
</UL>
<P>This button launches a form which simplifies the Fourier transform process. 
  You select the sizes, the apodisation functions, the Fourier, phasing and Baseline 
  correction steps. The set-up can be used for direct computation as well as to 
  store a macro that will realise the process in a latter stage. See the details 
  in the chapter <A HREF="basic-HANDLING.html">Handling of 2D and 3D Data-sets</A> 
  Check also the on-line help.</P>
<UL>
	<LI><P><U>ZeroFill F1 - ZeroFill F2</U></P>
</UL>
<P>Increases the size of the dataset in the F1 or F2 domain up to the
next power of 2. performed with the <TT><FONT FACE="Courier">CHSIZE</FONT></TT>
command</P>
<UL>
	<LI><P><U>Burg 2D</U></P>
</UL>
<P>This button permits to use the burg Linear prediction method for
extending the data-set. You can see it like a sophisticated
zero-filling function. Equivalent to the <TT><FONT FACE="Courier">burg2d</FONT></TT>
macro.</P>
<UL>
	<LI><P><U>Svd 2D</U></P>
</UL>
<P>This button permits to use the Linear prediction method for
extending the data-set. The LP method used here is based on the
computation of a singular value decomposition (SVD) from each row of
the data-set. It is more sophisticated, but much slower than the Burg
method.</P>
<UL>
	<LI><P><U>ft_Seq (F2)</U></P>
</UL>
<P>Realises the Fourier transform in F2 suitable for a data set
acquired in <I>sequential</I> mode : real and imaginary part
alternatively sampled. Equivalent to the <TT><FONT FACE="Courier">ft_seq
</FONT></TT>macro or to the<TT><FONT FACE="Courier"> REVF F2 RFT F2
</FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_Sim (F2)</U></P>
</UL>
<P>Realises the Fourier transform in F2 suitable for a data set
acquired in <I>simultaneous</I> mode : real and imaginary part
sampled same time point, and stored alternatively in the buffer.
Equivalent to the <TT><FONT FACE="Courier">ft_sim </FONT></TT>macro
or to the<TT><FONT FACE="Courier"> REVF F2 FT F2 </FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_phase_modu (F1)</U></P>
</UL>
<P>Realises the Fourier transform in F1 suitable for a data set
acquired in phase modulation mode.<I> </I>Equivalent to the
<TT><FONT FACE="Courier">ft_phase_modu </FONT></TT>macro or to the<TT><FONT FACE="Courier">
FLIP REVF F1 FT F1 FLOP </FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_tppi (F1)</U></P>
</UL>
<P>Realises the Fourier transform in F1 suitable for a data set
acquired in TPPI mode.<I> </I>Equivalent to the <TT><FONT FACE="Courier">ft_tppi
</FONT></TT>macro or to the<TT><FONT FACE="Courier"> RFT F1 </FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_sh (F1)</U></P>
</UL>
<P>Realises the Fourier transform in F1 suitable for a data set
acquired in Hypercomplex (States-Haberkorn) mode.<I> </I>Equivalent
to the <TT><FONT FACE="Courier">ft_sh </FONT></TT>macro or to the<TT><FONT FACE="Courier">
REVF F1 FT F1 </FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_sh_tppi (F1)</U></P>
</UL>
<P>Realises the Fourier transform in F1 suitable for a data set
acquired in TPPI Hypercomplex (TPPI States-Haberkorn) mode.<I>
</I>Equivalent to the <TT><FONT FACE="Courier">ft_sh_tppi </FONT></TT>macro
or to the<TT><FONT FACE="Courier"> FT F1 </FONT></TT>command.</P>
<UL>
	<LI><P><U>ft_n+p (F1)</U></P>
</UL>
<P>Realises the Fourier transform in F1 suitable for a data set
acquired in echo-antiecho mode, with alternated gradients.<I>
</I>Equivalent to the <TT><FONT FACE="Courier">ft_n+p </FONT></TT>macro.</P>
<UL>
	<LI><P><U>Ph in f1 (ph2dc)</U></P>
</UL>
<P>Starts the macro <TT><FONT FACE="Courier">ph2dc</FONT></TT> which
permits to interactively phase a 2D spectrum in F1. You first enter a
selection mode, where you click on the 2D window with the left button
to visualise the columns, you select them with the middle button, the
selected columns are added together. You exit this mode with the
right button. You then enter the <TT><FONT FACE="Courier">PH</FONT></TT>
command with a composite 1D spectrum obtained from the selected
columns. The phase obtained on this spectrum is then applied on the
complete 2D.</P>
<UL>
	<LI><P><U>Ph in f2 (ph2dr)</U></P>
</UL>
<P>Equivalent to <TT><FONT FACE="Courier">ph2dc</FONT></TT> for the
F2 domain.</P>
<UL>
	<LI><P><U>Redo Phase F1</U></P>
</UL>
<P>Apply again the last phase correction in the F1 domain. Equivalent
to the <TT><FONT FACE="Courier">PHASE % % F1</FONT></TT> command</P>
<UL>
	<LI><P><U>Redo Phase F2</U></P>
</UL>
<P>Apply again the last phase correction in the F2 domain. Equivalent
to the <TT><FONT FACE="Courier">PHASE % % F2</FONT></TT> command</P>
<UL>
	<LI><P><U>Real F12</U></P>
</UL>
<P>Remove the imaginary parts of the data-set along each axis, thus
reducing the total size of the data-set by four. Equivalent to the
<TT><FONT FACE="Courier">REAL F12</FONT></TT> command.</P>
<UL>
	<LI><P><U>Modulus</U></P>
</UL>
<P>Computes the modulus spectrum from the real and imaginary parts.
Equivalent to the <TT><FONT FACE="Courier">MODULUS</FONT></TT>
command.</P>
<UL>
	<LI><P><U>Proj F1</U></P>
</UL>
<P>Computes the projection of the 2D dataset along the F1 axis, onto
the F2 axis. The command will prompt you whether you want a &quot;Skyline&quot;
(keep the highest points) or a &quot;Mean&quot; (sum all points)
projection. Equivalent to the PROJ F1 command.</P>
<UL>
	<LI><P><U>Proj F2</U></P>
</UL>
<P>Computes the projection of the 2D dataset along the F2 axis, onto
the F1 axis. The command will prompt you whether you want a &quot;Skyline&quot;
(keep the highest points) or a &quot;Mean&quot; (sum all points)
projection. Equivalent to the PROJ F2 command.</P>
<UL>
	<LI><P><U>Proj_loc</U></P>
</UL>
<P>Computes a local projection of the 2D dataset along any chosen
axis, the projection is computed from only a part of the data-set, by
default you are prompted for the current zoom window.</P>
<UL>
	<LI><P><U>...2D on file</U></P>
</UL>
<P>This menu entry adds an additionnal menu called '2D on file' which ease the 
  process of processing very large 2D, working on file rather than in memory. 
  With this set-up there is no limit on the size of the 2D that can be processed. 
  see <A HREF="basic-WORKING.html">Working On File rather than In Memory</A> for 
  details. <BR>
  The equivalent
command is : <TT><FONT FACE="Courier">env_2donfile.g</FONT></TT></P>
<H3><A NAME="Heading480"></A><B>2D on file</B></H3>
<P>When a data-set is too big to be processed in-memory, it is possible to realize 
  the processing on-file. This is done with a special set-up in Gifa, the &quot;cache&quot; 
  system, which permits to access files in an optimal fashion, (see below the 
  <A HREF="basic-WORKING.html">Working On File rather than In Memory</A> chapter).<BR>
  This mode is rather
designed for 3D processing, however it is perfectly possible to
handle 2D in this way. 2D processing on file is done by having an
input file and an output file, planes are loaded from the input file,
processed in memory as regular 1D experiment, and then copied on the
output file.</P>
<UL>
	<LI><P><U>Join data-set...</U></P>
</UL>
<P>This entry permits to realize the first operation to be done,
namely connecting to the input file. This is equivalent to the <TT><FONT FACE="Courier">JOIN</FONT></TT>
command. Once a data-set has been JOINed, it is possible to display
internal parameters, load 1D from it, or load a 2D region form it.
Note that you can issue that command to several files, thus being
JOINed to more than one file. However all the command will refer to
the last JOINed file.</P>
<UL>
	<LI><P><U>Dataset parameters</U></P>
</UL>
<P>That button simply runs the <TT><FONT FACE="Courier">dataset</FONT></TT>
macro, which displays all the spectral parameters of the current
JOINed data-set. Note that since the header holding all the
parameters is in ASCII format, one can simply make <TT><FONT FACE="Courier">more
filename</FONT></TT> to see the value of all the parameters.</P>
<UL>
	<LI><P><U>list all files</U></P>
</UL>
<P>This button lists the names of all the files which are currently
JOINed.</P>
<UL>
	<LI><P><U>disjoin</U></P>
</UL>
<P>Once a file have been JOINed it must be DISJOINed in order to
release completely the internal memory.</P>
<UL>
	<LI><P><U>get 1D</U></P>
</UL>
<P>This menu entry permits to load a 1D plane extracted from the
currently JOINed 2D dataset. A graphic box is displayed :</P>
<P><IMG SRC="images/Get1D.gif" NAME="Image12" ALIGN=LEFT HSPACE=8 VSPACE=8 WIDTH=388 HEIGHT=172 BORDER=0>Which
permits to rapidely select row and columns from the experiment.<BR>For
instance it can useful to load the first F1 or F2 Fid to determines
the optimum processing parameters, and phases, before going to full
2D processing. It is equivalent to using the <TT><FONT FACE="Courier">GETC</FONT></TT>
command in <TT><FONT FACE="Courier">DIM 1</FONT></TT> mode.</P>
<UL>
	<LI><P><U>get region</U></P>
</UL>
<P>This ones permits to load in the central memory a portion of the
currently JOINed data-set. You will be prompted for the coordinates
fits point (F1, F2) and then for the coordinates of the last point
(F1, F2). It is equivalent to using the <TT><FONT FACE="Courier">GETC</FONT></TT>
command in <TT><FONT FACE="Courier">DIM 2</FONT></TT> mode.</P>
<UL>
	<LI><P><U>2D proc...</U></P>
</UL>
<P>This button creates a form which permits to process the 2D
data-set on-file. One has to enter the name of the input and output
files, the axis along which the processing will be done, and finally
the command line that will be applied to each plane of the 2D.</P>
<P><IMG SRC="images/Proc2D.gif" NAME="Image13" ALIGN=LEFT HSPACE=8 VSPACE=8 WIDTH=511 HEIGHT=332 BORDER=0><BR CLEAR=LEFT>This
command line will be executed in 1D mode on each of the planes; thus
typical 1D command should be given here. The forms actually calls the
<TT><FONT FACE="Courier">proc2d</FONT></TT> macro.</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><U>Proj F1 ...</U> 
	</P>
	<LI><P><U>Proj F2 ...</U></P>
</UL>
<P>Compute the projection plane along the corresponding axis. You
will get prompted for the projection mode Skyline / Mean</P>
<HR>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><A HREF="basic-BASIC.html"><IMG SRC="images/up.gif" NAME="Image6" ALT="Up " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Basic-2.html"><IMG SRC="images/prev.gif" NAME="Image7" ALT="Previous " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-3D.html"><IMG SRC="images/next.gif" NAME="Image8" ALT="Next " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Title.html"><IMG SRC="images/first.gif" NAME="Image9" ALT="Title Page " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Contents.html"><IMG SRC="images/contents.gif" NAME="Image10" ALT="Contents " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
</P>
</BODY>
</HTML>