<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>PLOTTING</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.2 (Linux)">
	<META NAME="CREATED" CONTENT="20010412;19311500">
	<META NAME="CHANGEDBY" CONTENT="Thierry Gostan">
	<META NAME="CHANGED" CONTENT="20010412;19333400">
	<!-- This document was converted from RTF source: 
By r2net 5.2.4 r2netcmd Unix 
Translation:html.trn  $Revision: 1.55 $ $Revision: 1.34 $
See http://www.logictran.com
Filename:basic.rtf
OutFileName:basic.html
Application Directory:/home/gostan/r2net
Subject:
Author:
Operator:
Document Comments:
Version Comments:
Comments:StarWriter
Keywords:
Translation Date:04/12/2001
Translation Time:15:05:51
Translation Platform:Unix
Number of Output files:50
This File:basic-PLOTTING.html
SplitDepth=2
SkipNavPanel=0
SkipLeadingToc=0
SkipTrailingToc=1
GenContents=1
GenFrames=1
GenIndex=0
 -->
	<STYLE>
	<!--
		A:visited { color: #808080 }
		A:link { color: #cc0000 }
	-->
	</STYLE>
</HEAD>
<BODY LINK="#cc0000" VLINK="#808080" BGCOLOR="#ffffff">
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><A HREF="basic-DISPLAY-2.html"><IMG SRC="images/prev.gif" NAME="Image1" ALT="Previous " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-SEVERAL.html"><IMG SRC="images/next.gif" NAME="Image2" ALT="Next " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Title.html"><IMG SRC="images/first.gif" NAME="Image3" ALT="Title Page " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Contents.html"><IMG SRC="images/contents.gif" NAME="Image4" ALT="Contents " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
</P>
<HR>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-PLOTTING.html#Heading1168">CX,
	CY, ROTATE, PLOTTER, CONFIG</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-PLOTTING.html#Heading1171">PLOT,
	PEN, PLOT, PAGE, PLOTOFFSET, title, PLOT?, FORGET</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-PLOTTING.html#Heading1185">PLOTAXIS,
	PLOTAXIS?, plot_damp</A> 
	</P>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="basic-PLOTTING.html#Heading1189">STPL,
	STPL?</A> 
	</P>
	<LI><P><A HREF="basic-PLOTTING.html#Heading1200">easyplot</A> 
	</P>
</UL>
<HR>
<H1><A NAME="Heading1165"></A><FONT SIZE=4><I><U>PLOTTING</U></I></FONT></H1>
<P>Plot commands are implemented so that you can build from Gifa any
kind of plot by adding each plot element to a plot file. So each plot
command requires a parameter which is the filename in which the plot
is stored. There are also context commands, which do not realize any
plot actions, but rather describe how the next plot will be done (for
instance <TT><FONT FACE="Courier">CX</FONT></TT>)</P>
<H3><A NAME="Heading1168"></A><B>CX, CY, ROTATE, PLOTTER, CONFIG</B></H3>
<P>The 3 first commands determines the kind of plots that will be
performed by the plotting commands. The size of the plot will depend
on the contexts <TT><FONT FACE="Courier">CX</FONT></TT> and <TT><FONT FACE="Courier">CY</FONT></TT>
(in centimetres). <TT><FONT FACE="Courier">ROTATE</FONT></TT>
exchange X and Y axes on the plotter such that the drawings are
rotated on the sheet. Two kinds of plotter can be connected to Gifa :
a HP-GL plotter (usual for pen plotter) or a Postscript (usual for
laser printers). The plotter is chosen with the <TT><FONT FACE="Courier">PLOTTER</FONT></TT>
command, you can tell for which plotter the program is currently
connected to with the <TT><FONT FACE="Courier">CONFIG</FONT></TT>
command.</P>
<H3><A NAME="Heading1171"></A><B>PLOT, PEN, PLOT, PAGE, PLOTOFFSET,
title, PLOT?, FORGET</B></H3>
<P>The <TT><FONT FACE="Courier">PLOT</FONT></TT> command will plot
whatever is currently on the screen. In 2D, the plot will be strictly
equivalent to what is displayed by the <TT><FONT FACE="Courier">CDISP2D</FONT></TT>
mode; in 1D, the plot will be equivalent to what is displayed, but in
a <TT><FONT FACE="Courier">CX</FONT></TT> x <TT><FONT FACE="Courier">CY</FONT></TT>
format; in 3D the last extracted plane, as seen on the 2D display
will be plotted. <BR><TT><FONT FACE="Courier">PEN</FONT></TT> permits
to change the active pen. In HP-GL, this is the number of the pen; in
Postscript, 8 kind of lines are available :</P>
<P><IMG SRC="images/Pen.gif" NAME="Image9" ALIGN=LEFT HSPACE=8 VSPACE=8 WIDTH=265 HEIGHT=99 BORDER=0><TT><FONT FACE="Courier">PCOLOR</FONT></TT>
permits to choose a colour when plotting on a colour Postscript
printer. Only the 8 basic Gifa colours are thus available. If you
wish to use more exotic colours, you should edit the plot file itself
(look at the macro <TT><FONT FACE="Courier">setfont</FONT></TT> for
instance). <BR><TT><FONT FACE="Courier">PAGE</FONT></TT> will send
the page to the plotter, and eject the page on a plotter. <BR><TT><FONT FACE="Courier">PLOTOFFSET</FONT></TT>
is the constant offset on x and y axes which is applied for each
plots. Each plotting command will see the point at coordinates 0;0 as
actually being offsetted from the true 0;0 of the paper with the
<TT><FONT FACE="Courier">PLOTOFFSET</FONT></TT> values. <TT><FONT FACE="Courier">PLOTOFFSET</FONT></TT>
permits to stack different plots on a single sheet. <BR><TT><FONT FACE="Courier">title</FONT></TT>
will plot the text following the command at coordinates x=0, y=CY+1.
<BR><TT><FONT FACE="Courier">PLOT?</FONT></TT> will prompt you for
all the parameters currently used for plotting. <BR>All these
commands will prompt you for an output parameter, entering <TT><FONT FACE="Courier">*PL</FONT></TT>
(or <TT><FONT FACE="Courier">*PLOTTER</FONT></TT>) will output the
plot to the plotter. Entering a file-name will create a file
containing the graphic commands for the plotter. If you send several
plot commands to the same file, the following commands will be
appended to the first one in the plot file, thus permitting to make
composite plots on a single sheet. The <TT><FONT FACE="Courier">PAGE</FONT></TT>
command appends the order for page change, send the file to the
plotter port, and makes Gifa &laquo;&#160;forget&#160;&raquo; about
the plot file, thus plotting again on that file will erase the file
and start a new plot. <TT><FONT FACE="Courier">FORGET</FONT></TT>
will only makes Gifa forget the file, without sending it to the
plotter.<BR>The plot file can also be sent to the plotter by typing
at the operating system level :<BR>$gifaplot plot_file plotter_type
<BR>with plotter_type being either postscript or HP-GL, depending on
the type of plot file you have created. <BR>When working in
postscript, it is very convenient to use a Display Postscript program
to monitor the state of the current plot file.</P>
<H3><A NAME="Heading1185"></A><B>PLOTAXIS, PLOTAXIS?, plot_damp</B></H3>
<P>The first command permits to draw an horizontal and/or vertical
axis on the current plot. The graduation is done according to the
current values of <TT><FONT FACE="Courier">SPECW</FONT></TT> and
<TT><FONT FACE="Courier">OFFSET</FONT></TT>. <TT><FONT FACE="Courier">PLOTAXIS?</FONT></TT>
permits to configure the axes drawn by <TT><FONT FACE="Courier">PLOTAXIS</FONT></TT>.
<TT><FONT FACE="Courier">GRID</FONT></TT> permits to draw a grid of
CX by CY on the current plot, it will use the axes determined by
<TT><FONT FACE="Courier">PLOTAXIS?.</FONT></TT> Check the macros
plotn and nice_plot for examples of these functions. <BR>The macro
plot_damp draws on the plotting file a logarithmic scale, to be used
only for damping (DOSY or Relaxation) processings.</P>
<H3><A NAME="Heading1189"></A><B>STPL, STPL?</B></H3>
<P><TT><FONT FACE="Courier">STPL</FONT></TT> will generate a stack
plot either on the screen (<TT><FONT FACE="Courier">*S</FONT></TT>),
on the plotter (<TT><FONT FACE="Courier">*PL</FONT></TT>) or in a
file. The stack-plot depends on the value of the following contexts
:<BR><TT><FONT FACE="Courier">CX</FONT></TT> : length in centimetres
of a line.<BR><TT><FONT FACE="Courier">CY</FONT></TT> : maximum
height of a peak in centimetres.<BR><TT><FONT FACE="Courier">SCALE</FONT></TT>
: scaling applied to the data before plotting, if scale=1 then the
larger peak on the surface will be CY high, if scale&gt;1 then
clipping will occur.<BR><TT><FONT FACE="Courier">STDY</FONT></TT> :
each new line is offsetted by <TT><FONT FACE="Courier">STDY</FONT></TT>
centimetres in the Y axis.<BR><TT><FONT FACE="Courier">STSKIP</FONT></TT>
: every <TT><FONT FACE="Courier">STSKIP</FONT></TT> line of the
data-set will be drawn.<BR><TT><FONT FACE="Courier">STSHIFT</FONT></TT>
: each new line will be shifted right by <TT><FONT FACE="Courier">STSHIFT</FONT></TT>
points, if negative then the shift is done on the left. (May be
fractional).<BR><TT><FONT FACE="Courier">STSKEW</FONT></TT> :
determines how the horizontal lines are skewed during plot, (if
negative skewed to the left and to the right if positive. <BR><TT><FONT FACE="Courier">STPL?
</FONT></TT>permits to check all the parameters in one command.<BR>On
screen stack plots are currently limited to 256x128 points (larger
plots generally crashes the graphic).</P>
<H3><A NAME="Heading1200"></A><B>easyplot</B></H3>
<P>This macro has been written in order to help the user in realising
rapidly simple plots. A FORM shows up which permits to determine most
of the plot parameters for a 1D or 2 2D plot.</P>
<P><IMG SRC="images/EasyPlot.gif" NAME="Image10" ALIGN=LEFT HSPACE=8 VSPACE=8 WIDTH=664 HEIGHT=710 BORDER=0><BR CLEAR=LEFT>Most
controls are natural, and refers to to parameters which have been
presented above. However, some controls may have to be explained: 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Only the currently zoomed region
	will be plotted. 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">If you switch from postscript to
	HP-GL and define large CX and CY, it is better to close and reopen
	the easyplot form. 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Axes set-up uses the the PLOTAXIS
	set of commands to draw the axes on the spectrum 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">Output file: can be anything, if
	GifaTemp.Plot is chosen (it is the default) the file will be removed
	after plotting 
	</P>
	<LI><P STYLE="margin-bottom: 0cm">preview commands :<BR>The form
	makes use of a preview program to display the resulting plots before
	actually doing the plot. The name of the command to use can be
	changed, by default the ghostscript display postscript program is
	used. The associated controls are :</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0cm">writes to a temporary file and
		starts a preview for that file. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><B>to file</B> sen the drawing to
		the defined file. You can add several drawing to the same file. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><B>file </B>starts a preview on
		the current drawing file. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><B>File</B> send the file
		(created with the Draw to file) to the plotter, and start a new
		plot. 
		</P>
		<LI><P><B>File</B> undo every thing and start a new file.</P>
	</UL>
</UL>
<P><BR><BR>
</P>
<HR>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><A HREF="basic-DISPLAY-2.html"><IMG SRC="images/prev.gif" NAME="Image5" ALT="Previous " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-SEVERAL.html"><IMG SRC="images/next.gif" NAME="Image6" ALT="Next " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Title.html"><IMG SRC="images/first.gif" NAME="Image7" ALT="Title Page " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
  <A HREF="basic-Contents.html"><IMG SRC="images/contents.gif" NAME="Image8" ALT="Contents " ALIGN=BOTTOM WIDTH=30 HEIGHT=29 BORDER=0></A> 
</P>
</BODY>
</HTML>